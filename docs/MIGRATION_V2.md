# LazyBala v2.0 è¿ç§»æŒ‡å—

## ğŸš¨ é‡è¦å˜æ›´

LazyBala v2.0 ä¿®å¤äº†ä¸€ä¸ªå…³é”®çš„ Docker å·æŒ‚è½½é—®é¢˜ï¼Œè¯¥é—®é¢˜å¯¼è‡´ yt-dlp æ–‡ä»¶åœ¨å®¹å™¨å¯åŠ¨æ—¶è¢«å¤–éƒ¨ç©ºç›®å½•è¦†ç›–ã€‚

### ä¸»è¦å˜æ›´

1. **ç§»é™¤ bin ç›®å½•å·æŒ‚è½½** - yt-dlp ç°åœ¨ä¿æŒåœ¨å®¹å™¨å†…
2. **æ”¹è¿›çš„å¯åŠ¨æ£€æŸ¥** - å®¹å™¨å¯åŠ¨æ—¶ä¼šéªŒè¯ yt-dlp å¯ç”¨æ€§
3. **å®¹å™¨å†…æ›´æ–°æœºåˆ¶** - é€šè¿‡åº”ç”¨å†…ç½®åŠŸèƒ½æ›´æ–° yt-dlp

## ğŸ”§ è¿ç§»æ­¥éª¤

### 1. åœæ­¢ç°æœ‰å®¹å™¨

```bash
docker-compose down
```

### 2. å¤‡ä»½æ•°æ®ï¼ˆå¯é€‰ï¼‰

```bash
# å¤‡ä»½ä¸‹è½½æ–‡ä»¶
cp -r ./data/audiobooks ./backup-audiobooks

# å¤‡ä»½é…ç½®
cp -r ./data/config ./backup-config
cp -r ./data/cookies ./backup-cookies
```

### 3. æ›´æ–°é…ç½®æ–‡ä»¶

æ‹‰å–æœ€æ–°ä»£ç æˆ–æ‰‹åŠ¨æ›´æ–° `docker-compose.yml`ï¼š

```bash
git pull
```

æˆ–æ‰‹åŠ¨ç§»é™¤ bin ç›®å½•æŒ‚è½½ï¼š

```yaml
volumes:
  - ./data/audiobooks:/app/audiobooks
  - ./data/config:/app/config
  - ./data/cookies:/app/cookies
  # ç§»é™¤è¿™è¡Œ: - ./data/bin:/app/bin
```

### 4. é‡æ–°æ„å»ºå’Œå¯åŠ¨

```bash
# é‡æ–°æ„å»ºé•œåƒ
docker-compose build --no-cache

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

### 5. éªŒè¯éƒ¨ç½²

```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
docker-compose logs -f

# éªŒè¯ yt-dlp
docker exec lazybala /app/bin/yt-dlp --version
```

## ğŸ” æ•…éšœæ’é™¤

### é—®é¢˜ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥ï¼Œæç¤º "yt-dlp æ–‡ä»¶ä¸å­˜åœ¨"

**åŸå› **: ä»ç„¶æŒ‚è½½äº† bin ç›®å½•ï¼Œè¦†ç›–äº†å®¹å™¨å†…çš„ yt-dlp

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `docker-compose.yml` ç¡®ä¿æ²¡æœ‰ `./data/bin:/app/bin` æŒ‚è½½
2. é‡æ–°æ„å»ºé•œåƒ: `docker-compose build --no-cache`

### é—®é¢˜ï¼šå¦‚ä½•æ›´æ–° yt-dlpï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**:
1. é€šè¿‡ Web ç•Œé¢çš„è®¾ç½®é¡µé¢æ›´æ–°ï¼ˆæ¨èï¼‰
2. æˆ–ä½¿ç”¨ API: `curl -X POST http://localhost:8080/api/update-ytdlp`

### é—®é¢˜ï¼šéœ€è¦æ‰‹åŠ¨å‡çº§ yt-dlp

**è§£å†³æ–¹æ¡ˆ**:
```bash
# è¿›å…¥å®¹å™¨
docker exec -it lazybala sh

# æ‰‹åŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬
wget -O /app/bin/yt-dlp https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp_linux
chmod +x /app/bin/yt-dlp

# éªŒè¯
/app/bin/yt-dlp --version
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

- [ ] åœæ­¢æ—§å®¹å™¨
- [ ] å¤‡ä»½é‡è¦æ•°æ®
- [ ] æ›´æ–° docker-compose.ymlï¼ˆç§»é™¤ bin ç›®å½•æŒ‚è½½ï¼‰
- [ ] é‡æ–°æ„å»ºé•œåƒ
- [ ] å¯åŠ¨æ–°å®¹å™¨
- [ ] éªŒè¯ yt-dlp å¯ç”¨æ€§
- [ ] æµ‹è¯•ä¸‹è½½åŠŸèƒ½

## ğŸ¯ ä¼˜åŠ¿

v2.0 çš„å˜æ›´å¸¦æ¥ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **è§£å†³æƒé™é—®é¢˜** - ä¸å†æœ‰å¤–éƒ¨å·è¦†ç›–å®¹å™¨å†…æ–‡ä»¶çš„é—®é¢˜
2. **ç®€åŒ–éƒ¨ç½²** - å‡å°‘äº†å·æŒ‚è½½é…ç½®çš„å¤æ‚æ€§
3. **æ›´å¯é çš„å¯åŠ¨** - å®¹å™¨å¯åŠ¨æ—¶ä¼šéªŒè¯ yt-dlp å¯ç”¨æ€§
4. **å†…ç½®æ›´æ–°** - é€šè¿‡åº”ç”¨ç•Œé¢ç›´æ¥æ›´æ–° yt-dlp

## ğŸ“ æ”¯æŒ

å¦‚æœåœ¨è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹å®¹å™¨æ—¥å¿—: `docker-compose logs -f`
2. æ£€æŸ¥ GitHub Issues
3. æäº¤æ–°çš„ Issue å¹¶é™„ä¸Šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
